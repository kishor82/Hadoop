# 1.Mapreduce_example(wordcount)

Hadoop Tutorial to understand the implementation of the standard wordcount example and learn how to run a simple wordcount program using mapreduce.

### Prerequisites

1.Hadoop Installation must be completed successfully.

2.Single node hadoop cluster must be configured and running.

## Hadoop WordCount operation occurs in 3 stages :

![WordCount+Example](https://s3.amazonaws.com/files.dezyre.com/images/Tutorials/MapReduce+Tutorial%E2%80%93Learn+to+implement+Hadoop+WordCount+Example/Hadoop+MapReduce+Tutorial_WordCount+Example.png)

1.Mapper Phase
2.Shuffle Phase
3.Reducer Phase

### Hadoop WordCount Example- Mapper Phase Execution:

The text from the input text file is tokenized into words to form a key value pair with all the words present in the input text file.
The key is the word from the input file and value is ‘1’.


### Hadoop WordCount Example- Shuffle Phase Execution:
After the map phase execution is completed successfully, shuffle phase is executed automatically wherein the key-value pairs generated in the map phase are taken as input and then sorted in alphabetical order.

### Hadoop WordCount Example- Reducer Phase Execution:

In the reduce phase, all the keys are grouped together and the values for similar keys are added up to find the occurrences for a particular word. It is like an aggregation phase for the keys generated by the map phase. The reducer phase takes the output of shuffle phase as input and then reduces the key-value pairs to unique keys with values added up.


### Web interfaces:

* https://blueyes:50070 -(web UI of the Namenode daemon)

* https://blueyes:8042 -(web UI of HDFS Namenode web interface)

* https://blueyes:50075 -(web UI of Datanode tasktracker(Nodemanager))



# 2.Test and Benchmark

![benchmarking](https://www.michael-noll.com/assets/uploads/hadoop-benchmarking-terasort-data-flow1-505x600.png)

1. TeraGen is a MapReduce program to generate the data.

2. TeraSort samples the input data and uses MapReduce to sort the data into a total
order.

3. TeraValidate is a MapReduce program that validates the output is sorted.
 
* To test the cluster's Processig capability we can run terasort.
Tipically we test our cluster on a terabyte or more data but since we didn't provision that much storage we do less.

### TeraGen

* TeraGen generates output data that is byte-for-byte equivalent to the C version, includ-
ing the newlines and specific keys. It divides the desired number of rows by the desired
number of tasks and assigns ranges of rows to each map. The map jumps the random
number generator to the correct value for the first row and generates the following rows.
For the final run, I configured TeraGen to use 1,800 tasks to generate a total of 10 billion
rows in HDFS, with a block size of 512 MB.

### TeraSort 

![TeraSort](http://blog.syncsort.com/wp-content/uploads/2013/05/Terasort-Benchmark-1.png)

* TeraSort is a standard MapReduce sort, except for a custom partitioner that uses a
sorted list of N−1 sampled keys that define the key range for each reduce. In particular,
all keys such that sample[i−1] <= key < sample[i] are sent to reduce i. This guarantees
that the output of reduce i are all less than the output of reduce i+1. To speed up the
partitioning, the partitioner builds a two-level trie that quickly indexes into the list of
sample keys based on the first two bytes of the key. TeraSort generates the sample keys
by sampling the input before the job is submitted and writing the list of keys into HDFS.



